<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simple Car Game</title>
  <link rel="icon" type="image/png" href="img/kkr.png">
  <style>
    body { margin: 0; background: #222; }
    canvas { display: block; margin: 0 auto; background: #333; }
  </style>
</head>
<body>
<canvas id="game" width="400" height="600"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');

const car = {
  x: 175,
  y: 500,
  w: 50,
  h: 100,
  color: 'red',
  speed: 5
};

const obstacleColors = ['yellow', 'blue', 'green', 'white'];
let obstacles = [];
let gameOver = false;
let score = 0;

function drawCar() {
  ctx.fillStyle = car.color;
  ctx.fillRect(car.x, car.y, car.w, car.h);
}

function drawObstacles() {
  obstacles.forEach(obs => {
    ctx.fillStyle = obs.color;
    ctx.fillRect(obs.x, obs.y, obs.w, obs.h);
  });
}

function moveObstacles() {
  obstacles.forEach(obs => obs.y += obs.speed);
  obstacles = obstacles.filter(obs => obs.y < canvas.height);
}

function spawnObstacle() {
  const w = 50, h = 100;
  const x = Math.floor(Math.random() * (canvas.width - w));
  const color = obstacleColors[Math.floor(Math.random() * obstacleColors.length)];
  obstacles.push({x, y: -h, w, h, color, speed: 4 + Math.random()*2});
}

function checkCollision() {
  for (let obs of obstacles) {
    if (
      car.x < obs.x + obs.w &&
      car.x + car.w > obs.x &&
      car.y < obs.y + obs.h &&
      car.y + car.h > obs.y
    ) {
      gameOver = true;
    }
  }
}

function drawScore() {
  ctx.fillStyle = 'white';
  ctx.font = '20px Arial';
  ctx.fillText('Score: ' + score, 10, 30);
}

function gameLoop() {
  if (gameOver) {
    ctx.fillStyle = 'rgba(0,0,0,0.7)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = 'red';
    ctx.font = '40px Arial';
    ctx.fillText('Game Over', 100, 300);
    ctx.fillStyle = 'white';
    ctx.font = '20px Arial';
    ctx.fillText('Score: ' + score, 160, 340);
    return;
  }
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawCar();
  drawObstacles();
  moveObstacles();
  checkCollision();
  drawScore();
  score++;
  requestAnimationFrame(gameLoop);
}

let keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

function handleInput() {
  if (keys['ArrowLeft'] && car.x > 0) car.x -= car.speed;
  if (keys['ArrowRight'] && car.x < canvas.width - car.w) car.x += car.speed;
  if (keys['ArrowUp'] && car.y > 0) car.y -= car.speed;
  if (keys['ArrowDown'] && car.y < canvas.height - car.h) car.y += car.speed;
  requestAnimationFrame(handleInput);
}

setInterval(spawnObstacle, 1200);
handleInput();
gameLoop();
</script>
</body>
</html>v